{"version":3,"sources":["all.js"],"names":["data","id","name","imgUrl","area","description","group","price","rate","addTicketInputs","document","querySelectorAll","addTicketBtn","querySelector","cardList","searchAreaInput","searchResultNum","addEventListener","checkInput","areaFilter","e","preventDefault","checkStatus","forEach","item","getAttribute","value","alert","length","addTicket","obj","parseInt","push","init","str","resultNum","innerHTML","textContent","inputValue","target"],"mappings":"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","file":"all.js","sourcesContent":["let data = [\n  {\n    id: 0,\n    name: '肥宅心碎賞櫻3日',\n    imgUrl:\n      'https://images.unsplash.com/photo-1522383225653-ed111181a951?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1655&q=80',\n    area: '高雄',\n    description: '賞櫻花最佳去處。肥宅不得不去的超讚景點！',\n    group: 87,\n    price: 1400,\n    rate: 10,\n  },\n  {\n    id: 1,\n    name: '貓空纜車雙程票',\n    imgUrl:\n      'https://images.unsplash.com/photo-1501393152198-34b240415948?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1650&q=80',\n    area: '台北',\n    description: '乘坐以透明強化玻璃為地板的「貓纜之眼」水晶車廂，享受騰雲駕霧遨遊天際之感',\n    group: 99,\n    price: 240,\n    rate: 2,\n  },\n  {\n    id: 2,\n    name: '台中谷關溫泉會1日',\n    imgUrl:\n      'https://images.unsplash.com/photo-1535530992830-e25d07cfa780?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1650&q=80',\n    area: '台中',\n    description: '全館客房均提供谷關無色無味之優質碳酸原湯，並取用八仙山之山冷泉供蒞臨貴賓沐浴及飲水使用。',\n    group: 20,\n    price: 1765,\n    rate: 7,\n  },\n];\nconst addTicketInputs = document.querySelectorAll('[data-ticketInput');\nconst addTicketBtn = document.querySelector('#addTicketBtn');\nconst cardList = document.querySelector('.ticketList');\nconst searchAreaInput = document.querySelector('.searchRegion');\nconst searchResultNum = document.querySelector('.searchResultNum');\n\naddTicketBtn.addEventListener('click', checkInput);\nsearchAreaInput.addEventListener('change', areaFilter);\n\nfunction checkInput(e) {\n  e.preventDefault();\n  let checkStatus = true;\n\n  addTicketInputs.forEach(function (item) {\n    if (item.getAttribute('data-ticketInput') == 'rate') {\n      // 檢查 套票星級\n      if (item.value > 10 || item.value < 1) {\n        alert('「套票星級」為 1 ~10 分');\n        checkStatus = false;\n      };\n    } else if (item.value === '') {\n      // 檢查空值\n      alert(`「${item.getAttribute('data-inputName')}」 未填寫`);\n      checkStatus = false;\n    } else if (item.getAttribute('data-ticketInput') === 'description' && item.value.length > 100) {\n      // 檢查字數\n      alert(`「${item.getAttribute('data-inputName')}」 字數超過 100 字`);\n      checkStatus = false;\n    };\n  });\n\n  addTicket(checkStatus);\n};\n\n// 新增套票\n// 新增資料到 物件 data\nfunction addTicket(checkStatus) {\n  if (checkStatus === true) {\n    let obj = {};\n\n    addTicketInputs.forEach(function (item) {\n      obj.id = data.length;\n      if (item.getAttribute('type') === 'number') {\n        obj[item.getAttribute('data-ticketInput')] = parseInt(item.value);\n        item.value = '';\n      } else {\n        obj[item.getAttribute('data-ticketInput')] = item.value;\n        item.value = '';\n      };\n    });\n    data.push(obj);\n    init();\n  } else {\n    return;\n  }\n};\n\n\n// 預設資料為 3 筆（內容需依照目前提供的 JSON data）\n// 網頁初始顯示\nfunction init() {\n  let str = '';\n  let resultNum = 0;\n\n  data.forEach(function (item) {\n    resultNum++;\n    str += `<li class=\"flex flex-col bg-white transform hover:scale-105 transition-all duration-700 ease-out rounded relative shadow\">\n        <div class=\"bg-secondary text-white text-xl rounded-r py-2 px-5 absolute -top-5 left-0\">${item.area}\n        </div>\n        <div class=\"h-45 bg-no-repeat bg-cover bg-center rounded-t\"\n          style=\"background-image: url('${item.imgUrl}');\"></div>\n        <div class=\"relative text-primary pt-5 pb-4 px-5 flex flex-grow flex-col justify-between\">\n          <div class=\"absolute bg-primary text-white w-10 text-center rounded-r py-1 -top-4 left-0\">${item.rate}</div>\n          <div>\n            <h2 class=\"font-bold text-2xl pb-1 mb-4 border-b-2\">${item.name}</h2>\n            <p class=\"text-gray-500 mb-8 break-words\">${item.description}</p>\n          </div>\n          <div class=\"flex justify-between items-center\">\n            <p>\n              <i class=\"fas fa-exclamation-circle\"></i>\n              <span class=\"font-medium\">剩下最後 ${item.group} 組</span>\n            </p>\n            <p class=\"font-medium flex items-center\">TWD<span class=\"text-4xl ml-1\">$${item.price}</span></p>\n          </div>\n        </div>\n      </li>`;\n  });\n\n  cardList.innerHTML = str;\n  searchResultNum.textContent = resultNum;\n}\ninit();\n\n// 篩選資料\n// 篩選後會顯示『搜尋資料為 ? 筆』\nfunction areaFilter(e) {\n  let inputValue = e.target.value;\n\n  if (inputValue === '全部') {\n    init();\n  } else {\n    let str = '';\n    let resultNum = 0;\n\n    data.forEach(function (item) {\n      if (item.area === inputValue) {\n        resultNum++;\n        str += `<li class=\"flex flex-col bg-white transform hover:scale-105 transition-all duration-700 ease-out rounded relative shadow\">\n        <div class=\"bg-secondary text-white text-xl rounded-r py-2 px-5 absolute -top-5 left-0\">${item.area}\n        </div>\n        <div class=\"h-45 bg-no-repeat bg-cover bg-center rounded-t\"\n          style=\"background-image: url('${item.imgUrl}');\"></div>\n        <div class=\"relative text-primary pt-5 pb-4 px-5 flex flex-grow flex-col justify-between\">\n          <div class=\"absolute bg-primary text-white w-10 text-center rounded-r py-1 -top-4 left-0\">${item.rate}</div>\n          <div>\n            <h2 class=\"font-bold text-2xl pb-1 mb-4 border-b-2\">${item.name}</h2>\n            <p class=\"text-gray-500 mb-8 break-words\">${item.description}</p>\n          </div>\n          <div class=\"flex justify-between items-center\">\n            <p>\n              <i class=\"fas fa-exclamation-circle\"></i>\n              <span class=\"font-medium\">剩下最後 ${item.group} 組</span>\n            </p>\n            <p class=\"font-medium flex items-center\">TWD<span class=\"text-4xl ml-1\">$${item.price}</span></p>\n          </div>\n        </div>\n      </li>`;\n      };\n    });\n\n    cardList.innerHTML = str;\n    searchResultNum.textContent = resultNum;\n  };\n};\n"]}